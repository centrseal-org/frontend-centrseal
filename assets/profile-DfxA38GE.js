import{d as I,u as S,r as n,a as C,c as D,b as s,e as t,_,f,w as r,g as L,h as R,i as o,o as F,H,j as T,t as g,k as b,l as y,m as j}from"./index-BTovWneT.js";const $={class:"position-relative bg-offWhite overflow-hidden"},A={class:"py-16 profile-page"},E={class:"card-slide mr-4 pa-6 border border-white"},J={class:"d-flex flex-column align-center"},M={class:"text-blackText text-center mt-2"},O={class:"mt-10"},W={class:"my-4"},z={class:"my-4"},G={class:"d-flex align-center justify-space-between w-100"},K=I({__name:"profile",setup(P){const{t:p}=S(),i=L(),w=R(),d=n(""),u=n(""),m=n(""),x=n(w.query.token),v=C();n(!!localStorage.getItem("token")).value&&i.push("/dashboard");const h=async()=>{var c;try{const e=await y.post("auth/complete-signup",{token:x.value,firstName:d.value,lastName:u.value,brokerageName:m.value});if(((c=e.data)==null?void 0:c.status)==="logged_in"&&e.data.access_token)if(localStorage.setItem("token",e.data.access_token),e.data.user.role==="tenant"){const a=await y.get(`property/unique-url/${e.data.user.uniqueUrls[0]}`);v.setUser({...e.data.user,tenant:{property:a.data}}),i.push(`/tenant/paystub?uniqueUrl=${e.data.user.uniqueUrls[0]}`)}else v.setUser(e.data.user),i.push({name:"dashboard"})}catch(e){console.error("Failed to complete signup",e)}};return(c,e)=>{const a=o("v-text-field"),k=o("inline-svg"),N=o("v-btn"),V=o("v-form"),U=o("v-col"),q=o("v-row"),B=o("v-container");return F(),D("main",null,[s(H),t("div",$,[e[6]||(e[6]=t("img",{src:_,class:"shadowTop",alt:""},null,-1)),e[7]||(e[7]=t("img",{src:f,class:"shadowTop",alt:""},null,-1)),e[8]||(e[8]=t("img",{src:_,class:"shadowBottom",alt:""},null,-1)),e[9]||(e[9]=t("img",{src:f,class:"shadowBottom",alt:""},null,-1)),t("div",A,[s(B,null,{default:r(()=>[s(q,null,{default:r(()=>[s(U,{cols:"12",class:"py-4"},{default:r(()=>[s(V,{onSubmit:T(h,["prevent"]),class:"profile-form"},{default:r(()=>[t("div",E,[t("div",J,[t("h6",M,g(b(p)("Let's get to know each other")),1)]),t("div",O,[e[3]||(e[3]=t("div",{class:"body2 text-gray mb-2"},"First Name",-1)),s(a,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),type:"text","hide-details":"auto",placeholder:"John",class:"text-input mb-2 mb-sm-0 w-sm-auto w-100",variant:"solo",density:"compact",required:"",autocomplete:"text"},null,8,["modelValue"])]),t("div",W,[e[4]||(e[4]=t("div",{class:"body2 text-gray mb-2"},"Last Name",-1)),s(a,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),type:"text","hide-details":"auto",placeholder:"Doe",class:"text-input mb-2 mb-sm-0 w-sm-auto w-100",variant:"solo",density:"compact",required:"",autocomplete:"text"},null,8,["modelValue"])]),t("div",z,[e[5]||(e[5]=t("div",{class:"body2 text-gray mb-2"}," Brokerage Name (Optional) ",-1)),s(a,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=l=>m.value=l),type:"text","hide-details":"auto",placeholder:"DABC Realtyoe",class:"text-input mb-2 mb-sm-0 w-sm-auto w-100",variant:"solo",density:"compact"},null,8,["modelValue"])]),s(N,{class:"main-btn w-100 d-flex align-center mt-8",type:"submit"},{default:r(()=>[t("div",G,[t("span",null,g(b(p)("Done")),1),s(k,{src:"/arrowRight.svg",class:"ml-2"})])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})])])])}}}),Y=j(K,[["__scopeId","data-v-3d30d968"]]);export{Y as default};
